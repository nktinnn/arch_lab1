# Задание 1. Трёхзвенная клиент–серверная архитектура

В большинстве современных информационных систем используется **трёхзвенная архитектура**, в которой система логически и физически разделяется на три уровня:

- **клиент** — интерфейс пользователя;
- **сервер приложений** — бизнес-логика и API;
- **сервер базы данных** — хранение данных.

Такое разделение позволяет независимо развивать, масштабировать и защищать отдельные части системы.

---

## Общая схема


![/data/client-server.png](/data/client-server.png)
> *Рис. 1 — Обобщённая диаграмма развертывания приложения на основе трёхзвенной архитектуры*

В простейшем варианте сервер приложений и сервер базы данных могут быть размещены на одном физическом узле, к которому по сети подключаются клиенты.

В более корректной с точки зрения **безопасности, надёжности и масштабирования** конфигурации:
- сервер базы данных размещается на отдельном узле (или в кластере);
- к нему по сети подключаются один или несколько серверов приложений;
- клиенты взаимодействуют **только** с сервером приложений и не имеют прямого доступа к базе данных.

---

## Почему используется трёхзвенная архитектура

### Преимущества

- **Масштабируемость**  
  Сервер приложений может обслуживать множество клиентов, а сервер базы данных — несколько серверов приложений.

- **Устойчивость**  
  Изоляция уровней позволяет заменять или перезапускать отдельные компоненты без остановки всей системы.

- **Безопасность**  
  Клиенты не имеют прямого доступа к базе данных, что снижает риск утечек и атак.

- **Низкие требования к клиенту**  
  Основная бизнес-логика выполняется на сервере приложений.

### Недостатки

- более высокая сложность реализации;
- усложнение развертывания и сопровождения системы.

---

## API как контракт взаимодействия

Взаимодействие клиента с сервером приложений осуществляется через **API (Application Programming Interface)**.

API:
- описывает, *какие операции доступны*;
- фиксирует формат входных и выходных данных;
- определяет возможные ошибки и коды ответов.

Фактически API является **контрактом** между клиентом и сервером.

Примером хорошо спроектированного и документированного web-API может служить API музыкального сервиса Spotify.

![/data/spotify.png](/data/spotify.png)
> *Рис. 2 — Пример описания HTTP endpoint в API Spotify*

---

## Задание

Необходимо разработать программный комплекс, реализующий трёхзвенную архитектуру и соответствующий следующим требованиям.

1. Приложение должно поддерживать развертывание в три логических звена:
   - клиент;
   - сервер приложений;
   - сервер базы данных.

2. Протокол взаимодействия между клиентом и сервером приложений выбирается студентом  
   (например: HTTP, gRPC и др.) и должен быть обоснован.

3. Клиентское приложение может быть реализовано в любом виде:
   - браузерное приложение;
   - мобильное приложение;
   - настольное приложение;
   - простой CLI-клиент.

4. Клиентское приложение должно взаимодействовать с сервером приложений **исключительно через API**.

5. API должно быть чётко определено (рекомендуется использовать системы автоматизированной генерации документации (swagger и т.п.)):
   - описаны доступные операции;
   - форматы входных и выходных данных;
   - возможные коды ошибок.

6. Приложение должно использовать **персистентное хранилище данных**  
   (СУБД или аналогичное решение).
   Выбор типа хранилища и технологии должен быть обоснован.

7. В системе должна быть реализована:
   - аутентификация пользователей;
   - авторизация на основе ролевой модели доступа.

8. Необходимо реализовать **не менее трёх ролей** с различными возможностями, например:
   - `admin`;
   - `moderator`;
   - `viewer`.